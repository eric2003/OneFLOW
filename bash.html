

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bash &mdash; Scientific Computing 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=f2a433a1"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CFD" href="cfd/index.html" />
    <link rel="prev" title="THEORY" href="user.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Scientific Computing
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Get started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="info.html">OneFLOW</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user.html">THEORY</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Bash</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">Bash</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-command">Set Command</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-command-options">set Command Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-e-option">The -e Option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-c-option">The -C Option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-f-option">The -f Option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-x-option">The -x Option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-a-option">The -a Option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-u-option">The -u Option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-argument-option">The +[argument] Option</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#other-special-variables">Other Special Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tr-command">tr command</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cat-command">cat command</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-the-cat-command-to-create-a-file">Using the cat Command to Create a File</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cfd/index.html">CFD</a></li>
<li class="toctree-l1"><a class="reference internal" href="cgns.html">CGNS</a></li>
<li class="toctree-l1"><a class="reference internal" href="chatgpt.html">CHATGPT</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpp/index.html">CPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmake.html">CMake</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmd.html">Cmd</a></li>
<li class="toctree-l1"><a class="reference internal" href="cuda.html">CUDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="design_patterns.html">Design Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="eigen.html">Eigen3</a></li>
<li class="toctree-l1"><a class="reference internal" href="git.html">Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="git.html#contexts">Contexts</a></li>
<li class="toctree-l1"><a class="reference internal" href="fortran.html">Fortran</a></li>
<li class="toctree-l1"><a class="reference internal" href="hdf5.html">HDF5</a></li>
<li class="toctree-l1"><a class="reference internal" href="hpc.html">HPC</a></li>
<li class="toctree-l1"><a class="reference internal" href="install/index.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="julia.html">Julia</a></li>
<li class="toctree-l1"><a class="reference internal" href="jupyter.html">Jupyter Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="latex.html">LaTeX</a></li>
<li class="toctree-l1"><a class="reference internal" href="makefile.html">Makefile</a></li>
<li class="toctree-l1"><a class="reference internal" href="metis.html">METIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="mkdocs.html">MkDocs</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Environment Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpi.html">MPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="numerical/index.html">Numerical analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="oneapi.html">oneAPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="oneflow.html">OneFLOW-CFD</a></li>
<li class="toctree-l1"><a class="reference internal" href="openacc.html">OpenACC</a></li>
<li class="toctree-l1"><a class="reference internal" href="opencl.html">OpenCL</a></li>
<li class="toctree-l1"><a class="reference internal" href="opengl.html">OpenGL</a></li>
<li class="toctree-l1"><a class="reference internal" href="openmp.html">OpenMP</a></li>
<li class="toctree-l1"><a class="reference internal" href="powershell.html">PowerShell</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="qt.html">Qt</a></li>
<li class="toctree-l1"><a class="reference internal" href="regex.html">Regular Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="science.html">Science</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinx.html">Sphinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="system/index.html">System</a></li>
<li class="toctree-l1"><a class="reference internal" href="taichi.html">Taichi</a></li>
<li class="toctree-l1"><a class="reference internal" href="tcltk.html">Tcl/tk</a></li>
<li class="toctree-l1"><a class="reference internal" href="tecplot.html">Tecplot</a></li>
<li class="toctree-l1"><a class="reference internal" href="test.html">Test</a></li>
<li class="toctree-l1"><a class="reference internal" href="unreal_engine.html">Unreal Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="vcpkg.html">vcpkg</a></li>
<li class="toctree-l1"><a class="reference internal" href="yaml.html">yaml</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Scientific Computing</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Bash</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/bash.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="bash">
<h1>Bash<a class="headerlink" href="#bash" title="Link to this heading"></a></h1>
<section id="id1">
<h2>Bash<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://www.youtube.com/watch?v=2733cRPudvI&amp;list=PLT98CRl2KxKGj-VKtApD8-zCqSaN2mD4w">Bash Scripting on Linux</a></p></li>
<li><p><a class="reference external" href="https://www.youtube.com/watch?v=oxuRxtrO2Ag">Beginner’s Guide to the Bash Terminal</a></p></li>
<li><p><a class="reference external" href="https://www.bilibili.com/video/BV1T64y1D7Eq/">3小时Bash脚本开发教程</a></p></li>
<li><p><a class="reference external" href="https://www.bilibili.com/video/BV1AT411Y7bq/">【伯乐大典】最实用的Bash脚本知识</a></p></li>
<li><p><a class="reference external" href="https://ryanstutorials.net/bash-scripting-tutorial/">Bash Scripting Tutorial</a></p></li>
<li><p><a class="reference external" href="https://www.bilibili.com/video/BV1Uh411t7Bj/">【油管】Bash Shell Scripting Tutorial | Shell Scripting Tutorial</a></p></li>
<li><p><a class="reference external" href="https://www.bilibili.com/video/BV1NB4y1u74B/">bash少为人知的技巧</a></p></li>
<li><p><a class="reference external" href="https://www.youtube.com/watch?v=cQepf9fY6cE&amp;list=PLS1QulWo1RIYmaxcEqw5JhK3b-6rgdWO_">Shell Scripting Tutorial for Beginners</a></p></li>
<li><p><a class="reference external" href="https://www.shell-tips.com/bash/environment-variables/">A Complete Guide To The Bash Environment Variables</a></p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">eric2003</span><span class="o">/</span><span class="n">ModernBash</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>window git bash</p>
<p>cd d drive</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">d</span>
<span class="n">cd</span> <span class="o">/</span><span class="n">d</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">bash_work</span><span class="o">/</span><span class="n">ModernBash</span><span class="o">/</span><span class="n">codes</span><span class="o">/</span><span class="n">simple</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span>
</pre></div>
</div>
<p>grep</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ls -l /usr/bin | grep bash
-rwxr-xr-x 1 root   root     1396520  1月  7  2022 bash
-rwxr-xr-x 1 root   root        6818  1月  7  2022 bashbug
-rwxr-xr-x 1 root   root        4414 11月 11  2021 dh_bash-completion
lrwxrwxrwx 1 root   root           4  8月 30  2022 rbash -&gt; bash
</pre></div>
</div>
<p>echo example 1</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ echo Hello World! &gt; hello.txt
$ cat hello.txt
Hello World!
</pre></div>
</div>
<p>echo example 2</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ echo Hello World! &gt; hello.txt
$ echo Hello World! &gt; hello.txt
$ echo Hello World 1! &gt;&gt; hello.txt
$ echo Hello World 2! &gt;&gt; hello.txt
$ cat hello.txt
Hello World!
Hello World 1!
Hello World 2!
$ wc -w hello.txt
8 hello.txt
</pre></div>
</div>
<p>list</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ MY_LIST=(one two three four five)
$ echo $MY_LIST
$ echo ${MY_LIST}
$ echo ${MY_LIST[@]}
$ echo ${MY_LIST[0]}
$ echo ${MY_LIST[1]}
one
one
one two three four five
one
two
</pre></div>
</div>
<p>cat /etc/shells</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cat /etc/shells
# /etc/shells: valid login shells
/bin/sh
/bin/bash
/usr/bin/bash
/bin/rbash
/usr/bin/rbash
/usr/bin/sh
/bin/dash
/usr/bin/dash
</pre></div>
</div>
</section>
<section id="set-command">
<h2>Set Command<a class="headerlink" href="#set-command" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://www.baeldung.com/linux/set-command/">The set Command in Linux</a></p></li>
<li><p><a class="reference external" href="https://www.baeldung.com/linux/set-command/">Linux set Command Syntax</a></p></li>
</ol>
</section>
<section id="set-command-options">
<h2>set Command Options<a class="headerlink" href="#set-command-options" title="Link to this heading"></a></h2>
<section id="the-e-option">
<h3>The -e Option<a class="headerlink" href="#the-e-option" title="Link to this heading"></a></h3>
<p>When a query returns a non-zero status, the -e flag stops the script. It also detects errors in the currently executing script.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#!/bin/bash
set -e
mkdir newfolder
cat filenotindirectory
echo &#39;The file is not in our directory!&#39;
---------------------
$ bash testprj.sh
cat: filenotindirectory: No such file or directory
</pre></div>
</div>
</section>
<section id="the-c-option">
<h3>The -C Option<a class="headerlink" href="#the-c-option" title="Link to this heading"></a></h3>
<p>Using the -C flag ensures that we cannot overwrite an existing file with the same name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#!/bin/bash
touch myfile
echo &#39;An existing file&#39; &gt; myfile
set -C
echo &#39;Editing an existing file&#39; &gt; myfile
typical results:
$ bash testprj.sh
testprj.sh: line 5: myfile: cannot overwrite existing file
</pre></div>
</div>
</section>
<section id="the-f-option">
<h3>The -f Option<a class="headerlink" href="#the-f-option" title="Link to this heading"></a></h3>
<p>As we know, we can easily search for files using wildcard characters such as ?, *, or [].
This method is similar to regex, where we try to find similar texts using patterns.
The Bash shell uses the wildcards we specify to generate patterns and match them with filenames.
This feature is called globbing.
Let’s try using globbing by searching for files with the .txt extension:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#!/bin/bash
touch files.txt
ls *.txt
set -f
ls *.txt
typical results:
$ bash testprj.sh
files.txt  README.txt
ls: cannot access &#39;*.txt&#39;: No such file or directory
</pre></div>
</div>
</section>
<section id="the-x-option">
<h3>The -x Option<a class="headerlink" href="#the-x-option" title="Link to this heading"></a></h3>
<p>We use the -x parameter when debugging our scripts to determine the output of individual commands.</p>
<p>To illustrate, let’s create a Bash script that displays a countdown from 3 to 0:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#!/bin/bash
set -x
n=3
while [ $n -gt 0 ]; do
    n=$[ $n-1 ]
    echo $n
    sleep 1
done
typical results:
$ bash testprj.sh
+ n=3
+ &#39;[&#39; 3 -gt 0 &#39;]&#39;
+ n=2
+ echo 2
2
+ sleep 1
+ &#39;[&#39; 2 -gt 0 &#39;]&#39;
+ n=1
+ echo 1
1
+ sleep 1
+ &#39;[&#39; 1 -gt 0 &#39;]&#39;
+ n=0
+ echo 0
0
+ sleep 1
+ &#39;[&#39; 0 -gt 0 &#39;]&#39;
</pre></div>
</div>
</section>
<section id="the-a-option">
<h3>The -a Option<a class="headerlink" href="#the-a-option" title="Link to this heading"></a></h3>
<p>We can export variables or functions with this flag, making them reusable in subshells or scripts. First, let’s define variables in our terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1.
$ set -a
$ name=&#39;May&#39;
$ age=22

2.
#!/bin/bash
echo $name $age

3.
$ bash testprj.sh
may 22
</pre></div>
</div>
</section>
<section id="the-u-option">
<h3>The -u Option<a class="headerlink" href="#the-u-option" title="Link to this heading"></a></h3>
<p>We use this flag to ensure that Bash does not overlook the non-existent variables in our script. We can see that in normal circumstances, Bash ignores the unassigned variables and runs our script without any errors:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1.
#!/bin/bash
set -u
x=&#39;Bash scripting is fun&#39;
echo $x $y

2.
$ bash testprj.sh
testprj.sh: line 4: y: unbound variable
</pre></div>
</div>
</section>
<section id="the-argument-option">
<h3>The +[argument] Option<a class="headerlink" href="#the-argument-option" title="Link to this heading"></a></h3>
<p>Running the set command with the +[argument] option unsets the option’s functionality. In essence, it nullifies the effect of the -[argument] option.</p>
<p>We will see some examples of shell scripts run with the set  +[argument] commands and their outputs.</p>
<p>Firstly, we consider set +e:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>1.
#!/bin/bash
set +e
mkdir newfolder
cat filenotindirectory
echo &#39;The file is not in our directory!&#39;

2.
$ bash testprj.sh
cat: filenotindirectory: No such file or directory
The file is not in our directory!
</pre></div>
</div>
</section>
</section>
<section id="other-special-variables">
<h2>Other Special Variables<a class="headerlink" href="#other-special-variables" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$0 - The name of the Bash script.
$1 - $9 - The first 9 arguments to the Bash script. (As mentioned above.)
$# - How many arguments were passed to the Bash script.
$@ - All the arguments supplied to the Bash script.
$? - The exit status of the most recently run process.
$$ - The process ID of the current script.
$USER - The username of the user running the script.
$HOSTNAME - The hostname of the machine the script is running on.
$SECONDS - The number of seconds since the script was started.
$RANDOM - Returns a different random number each time is it referred to.
$LINENO - Returns the current line number in the Bash script.
</pre></div>
</div>
</section>
<section id="tr-command">
<h2>tr command<a class="headerlink" href="#tr-command" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://www.geeksforgeeks.org/tr-command-in-unix-linux-with-examples/">tr command in Unix/Linux with examples</a></p></li>
<li><p><a class="reference external" href="https://www.runoob.com/linux/linux-comm-tr.html">Linux tr命令</a></p></li>
</ol>
</section>
<section id="cat-command">
<h2>cat command<a class="headerlink" href="#cat-command" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://www.hostinger.com/tutorials/linux-cat-command-tutorial-and-examples/">How to Use the Linux cat Command With Examples</a></p></li>
</ol>
<section id="using-the-cat-command-to-create-a-file">
<h3>Using the cat Command to Create a File<a class="headerlink" href="#using-the-cat-command-to-create-a-file" title="Link to this heading"></a></h3>
<p>Using the cat command you can quickly create a file and put text into it. To do that, use the &gt; redirect operator to redirect the text in the file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">&gt;</span> <span class="n">filename</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>The file is created, and you can begin populating it with text. To add multiple lines of text just press Enter at the end of each line.  Once you’re done, hit CTRL+D to exit the file.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="user.html" class="btn btn-neutral float-left" title="THEORY" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cfd/index.html" class="btn btn-neutral float-right" title="CFD" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017~2024, eric.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>